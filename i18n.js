// Language translations
const translations = {
    en: {
        // Navigation
        features: 'Features',
        howItWorks: 'How It Works',
        howItWorksBtn: 'How It Works',
        testimonials: 'Testimonials',
        downloadApp: 'Download App',
        downloadNow: 'Download Now',
        english: 'English',
        spanish: 'Spanish',
        catalan: 'Catalan',
        
        // Meta
        pageTitle: 'WeSleep | Smart Alarm for Perfect Mornings',
        metaDescription: 'Wake up refreshed with WeSleep\'s smart alarm technology that finds your perfect waking moment',
        
        // Hero Section
        heroTitle: 'Wake Up Refreshed,<br>Every Morning',
        heroSubtitle: 'WeSleep\'s smart alarm technology wakes you up at the perfect moment within your chosen time window, ensuring you feel refreshed and energized.',
        
        // Features Section
        sleepSmarter: 'Sleep Smarter with WeSleep',
        smartWakeUp: 'Smart Wake-Up',
        smartWakeUpDesc: 'Wakes you up at the optimal time within your chosen window when you\'re in light sleep.',
        sleepAnalysis: 'Sleep Analysis',
        sleepAnalysisDesc: 'Detailed insights into your sleep patterns with daily, weekly, and monthly reports.',
        aiPowered: 'AI-Powered',
        aiPoweredDesc: 'Advanced algorithms learn your sleep patterns to improve accuracy over time.',
        
        // How It Works
        howItWorksTitle: 'How It Works',
        setYourWindow: 'Set Your Window',
        setYourWindowDesc: 'Choose your preferred wake-up window (e.g., 6:30 AM - 7:00 AM).',
        sleepNaturally: 'Sleep Naturally',
        sleepNaturallyDesc: 'Go to bed as usual. Our technology works while you sleep.',
        wakeUpRefreshed: 'Wake Up Refreshed',
        wakeUpRefreshedDesc: 'We\'ll wake you at the optimal time within your window when you\'re in light sleep.',
        
        // Testimonials
        whatUsersSay: 'What Our Users Say',
        testimonial1: '\'Game changer! I wake up feeling refreshed instead of groggy. The smart alarm makes all the difference.\'',
        testimonial1Role: 'Marketing Executive',
        testimonial2: '\'I was skeptical at first, but the difference in how I feel in the mornings is incredible. Highly recommend!\'',
        testimonial2Role: 'Software Developer',
        
        // CTA Section
        readyToTransform: 'Ready to Transform Your Mornings?',
        downloadToday: 'Download WeSleep today and wake up feeling refreshed and energized every morning.',
        downloadOn: 'Download on the',
        appStore: 'App Store',
        getItOn: 'Get it on',
        googlePlay: 'Google Play',
        
        // Footer
        footerTagline: 'Helping you achieve better sleep and more productive mornings.',
        product: 'Product',
        pricing: 'Pricing',
        download: 'Download',
        company: 'Company',
        aboutUs: 'About Us',
        careers: 'Careers',
        contact: 'Contact',
        legal: 'Legal',
        privacyPolicy: 'Privacy Policy',
        termsOfService: 'Terms of Service',
        copyright: '© 2025 WeSleep. All rights reserved.'
    },
    es: {
        // Navigation
        features: 'Características',
        howItWorks: 'Cómo Funciona',
        howItWorksBtn: 'Cómo Funciona',
        testimonials: 'Testimonios',
        downloadApp: 'Descargar App',
        downloadNow: 'Descargar Ahora',
        english: 'Inglés',
        spanish: 'Español',
        catalan: 'Catalán',
        
        // Meta
        pageTitle: 'WeSleep | Alarma Inteligente para Mañanas Perfectas',
        metaDescription: 'Despierta renovado con la tecnología de alarma inteligente de WeSleep que encuentra tu momento perfecto para despertar',
        
        // Hero Section
        heroTitle: 'Despierta Renovado,<br>Cada Mañana',
        heroSubtitle: 'La tecnología de alarma inteligente de WeSleep te despierta en el momento perfecto dentro de tu ventana de tiempo elegida, asegurando que te sientas renovado y lleno de energía.',
        
        // Features Section
        sleepSmarter: 'Duerme Mejor con WeSleep',
        smartWakeUp: 'Despertador Inteligente',
        smartWakeUpDesc: 'Te despierta en el momento óptimo dentro de tu ventana de tiempo cuando estás en sueño ligero.',
        sleepAnalysis: 'Análisis de Sueño',
        sleepAnalysisDesc: 'Información detallada sobre tus patrones de sueño con informes diarios, semanales y mensuales.',
        aiPowered: 'Impulsado por IA',
        aiPoweredDesc: 'Algoritmos avanzados que aprenden tus patrones de sueño para mejorar la precisión con el tiempo.',
        
        // How It Works
        howItWorksTitle: 'Cómo Funciona',
        setYourWindow: 'Establece tu Ventana',
        setYourWindowDesc: 'Elige tu ventana de despertar preferida (ej. 6:30 - 7:00).',
        sleepNaturally: 'Duerme con Naturalidad',
        sleepNaturallyDesc: 'Acuéstate como de costumbre. Nuestra tecnología trabaja mientras duermes.',
        wakeUpRefreshed: 'Despierta Renovado',
        wakeUpRefreshedDesc: 'Te despertaremos en el momento óptimo dentro de tu ventana cuando estés en sueño ligero.',
        
        // Testimonials
        whatUsersSay: 'Lo que Dicen Nuestros Usuarios',
        testimonial1: '\'¡Un cambio radical! Me despierto renovado en lugar de aturdido. La alarma inteligente marca la diferencia.\'',
        testimonial1Role: 'Ejecutiva de Marketing',
        testimonial2: '\'Al principio era escéptico, pero la diferencia en cómo me siento por las mañanas es increíble. ¡Muy recomendable!\'',
        testimonial2Role: 'Desarrollador de Software',
        
        // CTA Section
        readyToTransform: '¿Listo para Transformar tus Mañanas?',
        downloadToday: 'Descarga WeSleep hoy y despiértate renovado y lleno de energía cada mañana.',
        downloadOn: 'Descarga en la',
        appStore: 'App Store',
        getItOn: 'Disponible en',
        googlePlay: 'Google Play',
        
        // Footer
        footerTagline: 'Ayudándote a lograr un mejor sueño y mañanas más productivas.',
        product: 'Producto',
        pricing: 'Precios',
        download: 'Descargar',
        company: 'Empresa',
        aboutUs: 'Sobre Nosotros',
        careers: 'Carreras',
        contact: 'Contacto',
        legal: 'Legal',
        privacyPolicy: 'Política de Privacidad',
        termsOfService: 'Términos de Servicio',
        copyright: '© 2025 WeSleep. Todos los derechos reservados.'
    },
    ca: {
        // Navigation
        features: 'Característiques',
        howItWorks: 'Com Funciona',
        howItWorksBtn: 'Com Funciona',
        testimonials: 'Testimonis',
        downloadApp: 'Descarrega l\'App',
        downloadNow: 'Descarrega Ara',
        english: 'Anglès',
        spanish: 'Espanyol',
        catalan: 'Català',
        
        // Meta
        pageTitle: 'WeSleep | Despertador Intel·ligent per a Matins Perfectes',
        metaDescription: 'Desperta\'t descansat amb la tecnologia de despertador intel·ligent de WeSleep que troba el teu moment perfecte per despertar',
        
        // Hero Section
        heroTitle: 'Desperta\'t Descansat,<br>Cada Matí',
        heroSubtitle: 'La tecnologia d\'alarma intel·ligent de WeSleep et desperta en el moment perfecte dins de la teva finestra de temps triada, assegurant que et sentis descansat i ple d\'energia.',
        
        // Features Section
        sleepSmarter: 'Dorm Millor amb WeSleep',
        smartWakeUp: 'Despertador Intel·ligent',
        smartWakeUpDesc: 'Et desperta en el moment òptim dins de la teva finestra de temps quan estàs en son lleuger.',
        sleepAnalysis: 'Anàlisi del Son',
        sleepAnalysisDesc: 'Informació detallada sobre els teus patrons de son amb informes diaris, setmanals i mensuals.',
        aiPowered: 'Impulsat per IA',
        aiPoweredDesc: 'Algorismes avançats que aprenen els teus patrons de son per millorar la precisió amb el temps.',
        
        // How It Works
        howItWorksTitle: 'Com Funciona',
        setYourWindow: 'Estableix la Teva Finestra',
        setYourWindowDesc: 'Tria la teva finestra de despertar preferida (ex. 6:30 - 7:00).',
        sleepNaturally: 'Dorm amb Naturalitat',
        sleepNaturallyDesc: 'Dorm com ho fas habitualment. La nostra tecnologia treballa mentre dorms.',
        wakeUpRefreshed: 'Desperta\'t Descansat',
        wakeUpRefreshedDesc: 'Et despertarem en el moment òptim dins de la teva finestra quan estiguis en son lleuger.',
        
        // Testimonials
        whatUsersSay: 'Què Dien els Nostres Usuaris',
        testimonial1: '\'Un canvi radical! Em desperti descansat en lloc de mig adormit. El despertador intel·ligent marca la diferència.\'',
        testimonial1Role: 'Executiva de Màrqueting',
        testimonial2: '\'Al principi era escèptic, però la diferència en com em sento al matí és increïble. Molt recomanable!\'',
        testimonial2Role: 'Desenvolupador de Software',
        
        // CTA Section
        readyToTransform: 'Preparat per Transformar els Teus Matins?',
        downloadToday: 'Descarrega WeSleep avui i desperta\'t descansat i ple d\'energia cada matí.',
        downloadOn: 'Descarrega a',
        appStore: 'App Store',
        getItOn: 'Disponible a',
        googlePlay: 'Google Play',
        
        // Footer
        footerTagline: 'Ajudant-te a aconseguir un millor son i matins més productius.',
        product: 'Producte',
        pricing: 'Preus',
        download: 'Descarrega',
        company: 'Empresa',
        aboutUs: 'Sobre Nosaltres',
        careers: 'Feines',
        contact: 'Contacte',
        legal: 'Legal',
        privacyPolicy: 'Política de Privacitat',
        termsOfService: 'Termes del Servei',
        copyright: '© 2025 WeSleep. Tots els drets reservats.'
    }
};

// Function to set the language
function setLanguage(lang) {
    // Save language preference
    localStorage.setItem('preferredLanguage', lang);
    document.documentElement.lang = lang;
    
    // Update language selector
    document.querySelector('.selected-language').textContent = lang.toUpperCase();
    
    // Update all elements with data-i18n attribute
    document.querySelectorAll('[data-i18n]').forEach(element => {
        const key = element.getAttribute('data-i18n');
        if (translations[lang] && translations[lang][key]) {
            if (element.tagName === 'INPUT' || element.tagName === 'TEXTAREA') {
                element.placeholder = translations[lang][key];
            } else {
                element.innerHTML = translations[lang][key];
            }
        }
    });
}

// Initialize language on page load
document.addEventListener('DOMContentLoaded', () => {
    // Set default language from localStorage or browser language
    const savedLang = localStorage.getItem('preferredLanguage');
    const browserLang = navigator.language.split('-')[0];
    const defaultLang = savedLang || (['es', 'ca', 'en'].includes(browserLang) ? browserLang : 'en');
    
    setLanguage(defaultLang);
    
    // Add click handlers for language selection
    document.querySelectorAll('.language-option').forEach(button => {
        button.addEventListener('click', (e) => {
            e.preventDefault();
            const lang = button.getAttribute('data-lang');
            setLanguage(lang);
            document.querySelector('.language-dropdown').classList.remove('show');
        });
    });
    
    // Toggle language dropdown on mobile
    document.querySelector('.language-btn').addEventListener('click', (e) => {
        e.stopPropagation();
        const dropdown = document.querySelector('.language-dropdown');
        const isExpanded = dropdown.classList.toggle('show');
        document.querySelector('.language-btn').setAttribute('aria-expanded', isExpanded);
    });
    
    // Close dropdown when clicking outside
    document.addEventListener('click', (e) => {
        if (!e.target.closest('.language-selector')) {
            document.querySelector('.language-dropdown').classList.remove('show');
            document.querySelector('.language-btn').setAttribute('aria-expanded', 'false');
        }
    });
});
